<html>
{% load static %}
<head>
    <meta charset="utf-8">
    <title>US Flight Visualization</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<link rel="stylesheet" href="{% static "css/map.css" %}">


<body id="myPageVisual" data-spy="scroll" data-target=".navbar" data-offset="50">
    <nav class="navbar navbar-default navbar-fixed-top" style="background-color: #2d2d30; opacity: 0.9;font-family: Montserrat, sans-serif; margin-bottom: 0; border: 0;font-size: 11px; letter-spacing: 4px;">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>                        
          </button>
          <a class="navbar-brand" style="color: #d5d5d5" href="#">Flight Assistant</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
          <ul class="nav navbar-nav navbar-right">
              <li><a href="home" style="color: #d5d5d5">Home</a></li>
              <li><a href="predict" style="color: #d5d5d5">Prediction</a></li>
              <li><a href="map" style="color: #d5d5d5">Map</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
      </ol>
      <!-- Wrapper for slides -->
      <div class="carousel-inner" role="listbox">
        <div class="item active">
          <img src="./static/pic/p1.jpg" alt="me">
          <div class="carousel-caption">
            <h3>Flights Map</h3>
            <p>Based on 2015 US Flights.</p>
          </div> 
        </div>
        <div class="item">
          <img src="./static/pic/p3.jpg" alt="me">
          <div class="carousel-caption">
            <h3>Delay Prediction</h3>
            <p>Based on 2015 US Flights.</p>
          </div> 
        </div>
      </div>
      <!-- Left and right controls -->
      <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>

    <div id='map'>
        <h3 align="center"> US Flights (2015) </h3>
    </div>

    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="{% static "js/map.js" %}"></script>
    <script>
        var state = {{ state | safe }}
        var airport = {{ airport | safe}}
        var route = {{ route | safe}}
        var airline_route = {{ airline_route | safe}}
        var airline = {{ airline | safe}}
        var time_route = {{ time_route | safe}}
        var state_json = {{ state_json | safe}}
        map(state, airport, route, airline_route, airline, time_route, state_json)
    </script>
</body>

</html>

